<header class="header-6">
	<div class="branding">
		<a href="http://www.vmware.com" class="nav-link">
			<clr-icon shape="vm-bug"></clr-icon>
			<span class="title">Pinned GitHub Repos Project</span>
		</a>
	</div>
</header>

<clr-datagrid>
	<clr-dg-column>Name</clr-dg-column>
	<clr-dg-column>Link</clr-dg-column>

	<clr-dg-row *ngFor="let repo of repos" (click)="onRowClick(repo)">
		<clr-dg-cell>{{repo.name}}</clr-dg-cell>
		<clr-dg-cell>
			<a href={{repo.link}} target="_blank">{{repo.link}}</a>
		</clr-dg-cell>
	</clr-dg-row>

	<clr-dg-footer>{{repos.length}} repos</clr-dg-footer>
</clr-datagrid>

<clr-modal [(clrModalOpen)]="showModal" [clrModalStaticBackdrop]="false" [clrModalSize]="'sm'">
	<h3 class="modal-title">Error</h3>
	<div class="modal-body">
		<p>There was an error fetching the data. Plase try again</p>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-primary" (click)="showModal = false">Ok</button>
	</div>
</clr-modal>


<div *ngIf="showCommits">
	<h3>Showing the last 20 commits for the repo</h3>
	<button class="btn btn-primary" (click)="hideCommits()">Close</button>
	<clr-datagrid>
		<clr-dg-column>Date</clr-dg-column>
		<clr-dg-column>Author</clr-dg-column>
		<clr-dg-column>Message</clr-dg-column>

		<clr-dg-row *ngFor="let commit of commits">
			<clr-dg-cell>{{commit.node.author.date}}</clr-dg-cell>
			<clr-dg-cell>{{commit.node.author.name}}</clr-dg-cell>
			<clr-dg-cell>{{commit.node.message}}</clr-dg-cell>
		</clr-dg-row>

		<clr-dg-footer>{{commits.length}} repos</clr-dg-footer>
	</clr-datagrid>
</div>
